
@(Html.DevExtreme().DataGrid<NNworking.Models.SP_242_Tracking_Result>()
    .DataSource(ds => ds.WebApi()
        .RouteName("C242_InventoryReceivedApi")
        .LoadAction("GetTrackingHistory")
    //.Key("VoucherID")
    )
    .ID("dxTrackingHistory")
    //.OnExporting("onExportingDatagridToExcel").Export(e => e.Enabled(true))
    .Paging(page => page.PageSize(10))
    .Pager(pager => pager.ShowPageSizeSelector(true)
        .ShowInfo(true)
        .AllowedPageSizes(new List<int> { 20, 30, 50, 100, 200 })
    )
    .Sorting(sort => sort.Mode(GridSortingMode.Multiple)
        .DescendingText("Date")
    )
    .ColumnAutoWidth(true)
    .FilterRow(fil => fil.Visible(true))
    .FilterPanel(fi => fi.Visible(true))
    .SearchPanel(search => search.Visible(true)
        .HighlightSearchText(true)
        .Width(500)
    )
    .Columns(columns =>
    {

        columns.AddFor(m => m.Date).Caption("Ngày").Format("dd/MM/yyyy");

        columns.AddFor(m => m.StaffID).Caption("Người nhập");

        columns.AddFor(m => m.NguoiNhan).Caption("Người nhận");

        columns.AddFor(m => m.PartNo).Caption("Tên chi tiết");

        columns.AddFor(m => m.OrderNumber).Caption("Số Order");

        columns.AddFor(m => m.Qty).Caption("Số lượng");

        columns.AddFor(m => m.GiaDe).Caption("Giá để");

        columns.AddFor(m => m.Tang).Caption("Tầng");

        columns.AddFor(m => m.Thung).Caption("Thùng");

        columns.AddFor(m => m.Note).Caption("Ghi chú");

        columns.AddFor(m => m.ImportFrom).Caption("Giao").Lookup(lup =>
            lup.DataSource(ds => ds.WebApi()
                .RouteName("C242_InventoryReceivedApi")
                .LoadAction("GetAllPartner")
                .Key("Code")
            )
            .DisplayExpr("Name")
            .ValueExpr("Code")
        );

        columns.AddFor(m => m.ReceiveDept).Caption("Nhận").Lookup(lup =>
            lup.DataSource(ds => ds.WebApi()
                .RouteName("C242_InventoryReceivedApi")
                .LoadAction("GetAllPartner")
                .Key("Code")
            )
            .DisplayExpr("Name")
            .ValueExpr("Code")
        );

        columns.AddFor(m => m.ReceivedConfirm).Caption("Xác nhận");

        columns.AddFor(m => m.ReceivedConfirmStaff).Caption("Người xác nhận");

        columns.AddFor(m => m.ReceivedConfirmTime).Caption("Giờ xác nhận");
    })
    .HeaderFilter(headFil => headFil.Visible(true))
    .ShowColumnHeaders(true)
    .ShowRowLines(true)
    .RemoteOperations(true)
)
